strtok_r() 함수는 C 프로그래밍 언어에서 제공되는 함수 중 하나로, 문자열을 DELIMITERS(구분자)로 나누어서 토큰으로 반환합니다. 이 함수는 문자열을 처음 호출할 때, 인자로 받아서 나누고자 하는 문자열을 전달하고, 그 다음부터는 NULL 포인터를 전달해주어야 합니다. 또한, 이 함수는 토큰화된 문자열의 현재 위치를 추적하기 위해 SAVE_PTR이라는 변수를 사용합니다.

이 함수는 매 호출마다, 문자열에서 다음 토큰을 반환하며, 더 이상 토큰이 남아있지 않으면 NULL을 반환합니다. 또한, 이 함수는 여러 개의 연속된 구분자를 하나의 구분자로 처리하며, 반환된 토큰은 길이가 0이 될 수 없습니다. DELIMITERS는 한 호출에서 다음 호출로 변경될 수 있습니다.

중요한 점은, strtok_r() 함수는 문자열 S를 수정하여 구분 기호를 NULL 바이트로 변경합니다. 따라서 S는 수정 가능한 문자열이어야 하며, 문자열 상수는 수정할 수 없으므로 주의해야 합니다.

예를 들어, "apple,banana,grape"라는 문자열이 있다면, strtok_r() 함수를 사용하여 "," 구분자를 기준으로 문자열을 나누어 토큰으로 반환할 수 있습니다. 이 경우, 첫 호출에서는 문자열 전체를 전달하고, 다음 호출부터는 NULL을 전달합니다. 함수를 호출할 때마다, "," 구분자를 기준으로 나누어진 다음 토큰이 반환되며, 더 이상 반환할 토큰이 없으면 NULL을 반환합니다.



- char *strtok_r(char *str, const char *delim, char **saveptr);

- 스택 포인터가 가리키는 곳에 값을 어떻게 쓰지?

  memcpy 사용했음! 값을 써줄때 들어가는 값에 따라 자료형 잘 생각해서 넣어줘야함.

  ```c
  memcpy(*destination, *source, size)
  ```

  size 잘못 적어주면 이전에 썼던 값이 덮어씌워지거나, 유저 메모리 영역 밖에 값을 쓰려고해서 page fault 에러 발생할 수 있음

  말 그대로 바이트를 복사하는 함수라 source의 타입은 상관 x. 다만 destination이나 source나 무조건 주소값이 들어가야함.

[trouble shooting](https://www.notion.so/trouble-shooting-eb00c18f9ca2409095668a3c57973014)



코드에서 "memset" 함수는 메모리 영역의 값을 지정된 크기만큼 특정 값으로 설정하는 함수입니다. 이 함수는 string.h 헤더 파일에 선언되어 있습니다.

함수의 첫 번째 인자는 메모리 영역의 시작 주소입니다. 두 번째 인자는 설정하려는 값이며, 세 번째 인자는 설정할 메모리의 크기를 바이트 단위로 나타냅니다.

이 코드에서는 if_->rsp 포인터가 가리키는 위치에서 8*align - total_size 바이트 만큼 0으로 메모리를 설정하고 있습니다. 이 코드는 메모리를 초기화하거나 버퍼 오버플로우를 방지하기 위해 사용될 수 있습니다.

하지만, 이 코드를 정확히 이해하려면 전체적인 코드 구조와 해당 함수가 사용되는 맥락이 필요합니다.



`memset()` 함수는 메모리 블록의 값을 특정 값으로 설정하는 함수입니다. `memset()` 함수의 선언은 다음과 같습니다.

```c
void *memset(void *s, int c, size_t n);
```

반면에 `memcpy()` 함수는 메모리 블록의 내용을 다른 메모리 블록으로 복사하는 함수입니다. `memcpy()` 함수의 선언은 다음과 같습니다.

```c
void *memcpy(void *dest, const void *src, size_t n);
```



`uintptr_t`는 unsigned integer 타입으로, 주소 값을 저장하는 데 사용됩니다. 이 타입은 포인터 크기와 동일한 크기를 가지며, 포인터가 가리키는 메모리의 시작 주소를 나타내는 정수 값으로 해석됩니다.

`uintptr_t`는 주로 포인터 연산과 관련된 코드에서 사용됩니다. 예를 들어, 포인터를 정수형으로 변환하여 주소 값을 계산하고, 이를 이용하여 포인터 연산을 수행할 수 있습니다.

그러나 주의해야 할 점은, `uintptr_t`는 포인터와 정수형 값 사이의 변환을 지원하기 위한 타입으로만 사용되어야 합니다. 포인터를 정수형으로 변환하고 이를 사용하여 메모리를 조작하는 것은 위험하며, 이러한 방식으로 코드를 작성하면 예기치 않은 결과가 발생할 수 있습니다.