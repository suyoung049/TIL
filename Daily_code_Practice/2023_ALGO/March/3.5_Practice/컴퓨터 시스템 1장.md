### 1.2 Compile System

![컴파일시스템](C:\Users\holho\OneDrive\DeskTop\컴파일시스템.png)

- 전처리 단계(Pre-processor) 
  - 전처리기(cpp)는 본래의 C프로그램을 # 문자로 시작하는 디렉티브(directive)에 따라 수정한다. 예를 들어 hello.c 파일 첫 줄의 #include<stdio.h>는 전처리기 에게 시스템 헤더파일인 stdio.h를 프로그램 문장에 직점 삽입하라고 지시한다. 그 결과 일반적으로 .i로 끝나는 새로운 C 프로그램이 생성된다.
- 컴파일 단계(Compiler)
  - 컴파일러(cc1)는 텍스트 파일 hello.i를 텍스트 파일인 hello.s로 번역하며, 이 파일에는 ** 어셈블리어 ** 프로그램이 저장된다. 이 프로그램은 다음과 같은 main 함수의 정의를 포함한다.
- 어셈블리 단계(Assembler)
  - 다음에는 어셈블러(as)가 hello.s를 기계어 인스터럭션 으로 번역하고, 이들을 재배치 가능 목적 프로그램의 형태로 묶어서 hello.o라는 목적 파일에 저장한다. 이 파일은 main 함수의 인스트럭션 들을 인코딩하기 위한 17바이트를 포함하는 바이너리 파일이다. hello.o 파일을 텍스트 편집기로 열어보면 쓰레기 같은 데이터로 보인다.
- 링크단계(Linker)
  - hello 프로그램이 C 컴파일러에서 제공하는 표준 C 라이브러리에 들어 있는 printf 함수를 호출 하는 것에 주목할 필요가 있다. printf 함수는 이미 컴파일 된 별도의 목적파일인 print.o에 들어 있으며, 이 파일은 hello.o 파일과 어떤 형태로든 결합되어야 한다. 링커 프로그램(ld)이 이 통합 작업을 수행, 그 결과 hello 파일은 실행가능 목적파일로 메모리에 적재되어 시스템에 의해 실행  



** 어셈블리어 **

어셈블리어란 C나 Java 와 같은 사용자와 가까운 고급언어보다 기계어와 더 가까운 언어이다.

기계와 명령어가 1:1로 대응하고, 이 기계어는 CPU 종류에 따라 달라지기 때문에 호환성이 없는 언어이다. 주로 임베디드나 커널 프로그래밍 등에 쓰인다.

- 특징
  - 동일한 종류의 프로세서만 실행
  - 프로세서에 대한 사전지식 필요
  - 메모리나 입출력장치, 레지스터 등의 구성요소를 직접 다룰 수 있다.
  - 컴퓨터에서 실행하는 과정등 을 이해하기 쉽다.



### 1.3 컴파일 시스템이 어떻게 동작하는지 이해하는 것은 중요하다.

hello.c 처럼 간단한 프로그램의 경우 컴파일 시스템이 정확하고 효율적인 기계어 코드를 만들어 줄 거라고 기대할 수 있다. 하지만 프로그래머들이 어떻게 컴파일 시스템이 동작하는지 이해해야 하는 중요한 이유들을 정리하였다.



- 프로그램 성능 최적화하기
- 링크 에러 이해하기
- 보안 약점 피하기



이러한 이유들로 개발자가 컴파일 시스템이 어떻게 동작하는 이해해야 한다.



### 1.4 프로세서는 메모리에 저장된 인스트럭션을 읽고 해석한다.



