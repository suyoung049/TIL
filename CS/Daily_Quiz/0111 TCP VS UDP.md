## 01/11 TCP VS UDP

### TCP VS UDP

TCP는 Transmission Control Protocol의 약자이고, UDP는 User Datagram Protocol의 약자이다. 두 프로토콜은 모두 패킷을 한 컴퓨터에서 다른 컴퓨터로 전달해주는 IP 프로토콜을 기반으로 구현되어 있지만 , 서로 다른 특징을 가진다.



즉, 신뢰성이 요구되는 애플리케이션에서는 TCP를 사용하고 간단한 데이터를 빠른 속도로 전송하고자 하는 애플리케이션에서는 UDP를 사용.



### TCP(Transmission Control Protocol)

TCP는 네트워크 계층 중 전송 계층에서 사용하는 프로토콜로서, 장치들 사이에 논리적인 접속을 성립(establish)하기 위하여 연결을 설정하여 신뢰성을 보장하는 연결형 서비스이다. TCP는 네트워크에 연결된 컴퓨터에서 실해되는 프로그램간에 일련의 옥텟(데이터, 메세지, 세그먼트라는 블록 단위)를 안정적으로, 순서대로, 에러없이 교환 할 수 있게 한다.



#### TCP의 특징

##### 연결형 서비스

연결형 서비스로 가상 회선 방식을 제공한다.

- 3-way handshaking 과정을 통해 연결을 설정
- 4-way handshaking 을 통해 연결을 해제.



##### 흐름제어(Flow control)

데이터 처리 속도를 조절하여 수신자의 버퍼 오버플로우를 방지

- 송신하는 곳에서 감당이 안되게 많은 데이터를 빠르게 보내 수신하는 곳에서 문제가 일어나는 것을 방지
- 수신자가 윈도우 크기(Window Size) 값을 통해 수신량을 정할 수 있다.



##### 혼잡제어(Congestion control)

네트워크 내의 패킷 수가 넘치게 증가하지 않도록 방지

- 정보의 소통량이 과다하면 패킷을 조금만 전송하여 혼잡 붕괴 현상이 일어나는 것을 막는다.

  

##### 신뢰성이 높은 전송(Reliable transmission)

- Dupack-based retransmission
  - 정상적인 상황에서는 ACK 값이 연속적으로 전송되어야 한다.
  - 그러나 ACK값이 중복으로 올 경우 패킷 이상을 감지하고 재전송을 요청한다.
- Timeout-based retransmission
  - 일정시간동안 ACK 값이 수신을 못할 경우 재전송을 요청한다.



##### ACK 제어비트

- ACK는 송신측에 대하여 수신측에서 긍정 응답으로 보내지는 전송 제어용 캐릭터

- ACK 번호를 사용하여 패킷이 도착했는지 확인하다.   -> 송신한 패킷이 제대로 도착하지 않았으면 재송신을 요구.

  



### UDP(User Datagram Protocol)

UDP는 전송계층의 비연결 지향적 프로토콜이다. 비연결 지향적이란 데이터를 주고 받을 때 연결 절차를 거치지 않고 발신자가 일방적으로 데이터를 발신하는 방식을 의미한다. 연결 과정이 없기 때문에 TCP보다는 빠른 전송을 할 수 있지만 데이터 전달의 신뢰성은 떨어진다. UDP는 발신자가 데이터 패킷을 순차적으로 보내더라도 이 패킷들은 서로 다른 통신 선로를 통해 전달 될 수 있습니다. 먼저 보낸 패킷이 느린 선로를 향해 전송 될 경우 나중에 보낸 패킷보다 늦게 도착할 수 있으며, 최악의 경우 잘못된 선로로 전송되어 유실 될 수도 있다. 이럴 경우 TCP와는 다르게 UDP는 중간에 패킷이 유실이나 변조가 되어도 재전송을 하지 않는다.



#### UDP 단점

- 데이터의 신뢰성이 떨어짐
- 의미있는 서버 구축을 위해서는 일일이 패킷을 관리해야 한다.



#### UDP의 특징

- 비연결형 서비스로 연결없이 통신이 가능하며, 데이터그램 방식을 제공
- 데이터 경계를 구분(데이터그램(datagram)서비스)
- 정보를 주고 받을때 정보를 보내거나 받는다는 신호절차를 저치지 않는다.
- 신뢰성 없는 데이터를 전송한다. (데이터 재전송과 데이터 순서 유지를 위한 작업을 하지 않는다.)
- 패킷관리 필요
- 패킷 오버헤드가 적어 네트워크 부하가 감소되는 장점
- 상대적으로 TCP보다 전송속도가 빠르다.



|                |       TCP       |            UDP             |
| :------------- | :-------------: | :------------------------: |
| 연결방식       |  연결형 서비스  |      비 연결형 서비스      |
| 패킷 교환 방식 | 가상 회선 방식  |      데이터그램 방식       |
| 전송 순서      | 전송 순서 보장  |     전송 순서가 보장 X     |
| 수신 여부 확인 | 수신 여부 확인  |      수신 여부 확인 X      |
| 통신 방식      | 1:1 통신만 가능 | 1:1/1:N/N:N 통신 모두 가능 |
| 신뢰성         |      높음       |            낮음            |
| 속도           |      느림       |            빠름            |

