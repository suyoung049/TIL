# CASE

- CASEë¬¸ì€ íŠ¹ì • ìƒí™©ì—ì„œ ë°ì´í„°ë¥¼ ë³€í™˜í•˜ì—¬ í™œìš©í•  ìˆ˜ ìˆìŒ
- ELSEë¥¼ ìƒëµí•˜ëŠ” ê²½ìš° NULLê°’ì´ ì €ì¥ë¨

```sqlite
CASE
	WHEN ì¡°ê±´ì‹ THEN ì‹
	WHEN ì¡°ê±´ì‹ THEN ì‹
	ELSE ì‹
END
SELECT id, CASE FROM usres 
```



## ì„œë¸Œì¿¼ë¦¬

- ì„œë¸Œì¿¼ë¦¬ëŠ” íŠ¹ì •í•œ ê°’ì„ ë©”ì¸ ì¿¼ë¦¬ì— ë°˜í™˜í•˜ì—¬ í™œìš©í•˜ëŠ” ê²ƒ
- ì‹¤ì œ í…Œì´ë¸”ì— ì—†ëŠ” ê¸°ì¤€ì„ ì´ìš©í•œ ê²€ìƒ‰ì´ ê°€ëŠ¥í•¨
- ì„œë¸Œ ì¿¼ë¦¬ëŠ” ì†Œê´„í˜¸ë¡œ ê°ì‹¸ì„œ ì‚¬ìš©í•˜ë©°, ë©”ì¸ ì¿¼ë¦¬ì˜ ì¹¼ëŸ¼ì„ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
- ë©”ì¸ ì¿¼ë¦¬ëŠ” ì„œë¸Œì¿¼ë¦¬ì˜ ì¹¼ëŸ¼ì„ ì´ìš©í•  ìˆ˜ ì—†ìŒ



## ì„œë¸Œì¿¼ë¦¬

- ë‹¨ì¼í–‰ ì„œë¸Œì¿¼ë¦¬
  - ì„œë¸Œì¿¼ë¦¬ì˜ ê²°ê³¼ê°€ 0 ë˜ëŠ” 1ê°œì¼ ê²½ìš°
  - ë‹¨ì¼í–‰ ë¹„êµ ì—°ì‚°ìì™€ í•¨ê»˜ ì‚¬ìš©
- ë‹¤ì¤‘í–‰ ì„œë¸Œì¿¼ë¦¬
  - ì„œë¸Œì¿¼ë¦¬ì˜ ê²°ê³¼ê°€ 2ê°œ ì´ìƒì¸ ê²½ìš°
  - ë‹¤ì¤‘í–‰ ë¹„êµ ì—°ì‚°ìì™€ í•¨ê»˜ ì‚¬ìš©(IN, EXISTS ë“±)
- ë‹¤ì¤‘ì»¬ëŸ¼ ì„œë¸Œì¿¼ë¦¬



- ë‹¨ì¼í–‰ ì„œë¸Œì¿¼ë¦¬ - WHEREì—ì„œì˜ í™œìš©

- usersì—ì„œ ê°€ì¥ ë‚˜ì´ê°€ ì‘ì€ ì‚¬ëŒì˜ ìˆ˜ëŠ”?

```sqlite
SELECT COUNT(*) FROM users WHERE age = (SELECT MIN(age) FROM users);
```

- usersì—ì„œ í‰ê·  ê³„ì¢Œ ì”ê³ ê°€ ë†’ì€ ì‚¬ëŒì˜ ìˆ˜ëŠ”?

```sqlite
SELECT
    COUNT(balance)
    FROM users
    WHERE balance > (SELECT AVG(balance) FROM users);
```

- usersì—ì„œ ìœ ì€ì •ê³¼ ê°™ì€ ì§€ì—­ì— ì‚¬ëŠ” ì‚¬ëŒì˜ ìˆ˜ëŠ”?

```sqlite
SELECT 
    COUNT(*)
    FROM users
    WHERE country = (SELECT 
    country
    FROM users
    WHERE first_name = 'ì€ì •' AND last_name = 'ìœ ');
```



- ë‹¨ì¼í–‰ ì„œë¸Œì¿¼ë¦¬ - SELECTì—ì„œì˜ í™œìš©
- ì „ì²´ ì¸ì›ê³¼ í‰ê·  ì—°ë´‰, í‰ê·  ë‚˜ì´ë¥¼ ì¶œë ¥í•˜ì„¸ìš”

```sqlite
SELECT 
    (SELECT COUNT(*) FROM users) AS ì´ì¸ì›,
    (SELECT AVG(balance) FROM users) AS í‰ê· ì—°ë´‰,
    (SELECT AVG(age) FROM users) AS í‰ê· ë‚˜ì´
;
```



- ë‹¤ì¤‘í–‰ ì„œë¸Œì¿¼ë¦¬
- íŠ¹ì • ì„±ì”¨ì—ì„œ ê°€ì¥ ì–´ë¦° ì‚¬ëŒë“¤ì˜ ì´ë¦„ê³¼ ë‚˜ì´

```sqlite
SELECT last_name, first_name, age
FROM users WHERE (last_name, age) in (SELECT last_name, MIN(age) FROM users group by last_name) 
ORDER BY last_name;
```



## ğŸ’ª 8.19 [Training](./8.19_Practice/ì‹¤ìŠµ_04.md)



